# 邀请码功能测试指南

## 功能概述
重构后的邀请码系统具有以下特性：
- 6位数字邀请码
- 基于算法生成的动态验证
- 安全的API密钥本地存储
- 现代化的用户界面

## 安全特性
1. **算法验证**：邀请码通过SHA-256算法生成，避免硬编码
2. **加密存储**：API密钥使用AES-GCM加密存储
3. **设备绑定**：加密密钥基于设备信息生成
4. **无后端依赖**：完全客户端验证

## 测试步骤

### 1. 安装测试
1. 打开Chrome扩展管理页面 (`chrome://extensions/`)
2. 启用"开发者模式"
3. 点击"加载已解压的扩展程序"
4. 选择插件目录

### 2. 邀请码验证测试
1. 点击插件图标打开弹窗
2. 应该看到邀请码输入界面
3. 测试无效邀请码（如：123456）
4. 测试有效邀请码（使用界面上的示例代码）
5. 验证输入限制（只能输入6位数字）

### 3. 功能测试
1. 成功激活后访问 bilibili.com
2. 播放包含广告的视频
3. 验证广告跳过功能是否正常
4. 检查缓存机制是否工作

### 4. 安全测试
1. 查看Chrome DevTools Console
2. 验证API密钥不会明文显示
3. 检查 `chrome.storage.local` 中存储的数据
4. 确认敏感信息已加密

## 示例邀请码
以下是一些有效的测试邀请码：

```
算法生成的前10个邀请码：
[动态生成，请在界面上查看]
```

## 故障排除

### 常见问题
1. **邀请码无效**：确保输入6位数字，使用界面提供的示例代码
2. **激活失败**：检查浏览器控制台是否有错误信息
3. **功能不生效**：重新加载页面或重启浏览器

### 重置方法
1. 在已激活状态下点击"重置插件"按钮
2. 或者手动清除插件存储数据

## 上线准备
1. 移除测试代码（示例邀请码显示）
2. 更新manifest.json版本号
3. 准备商店描述和截图
4. 测试在不同Chrome版本上的兼容性

## 安全建议
1. 定期更新邀请码算法种子
2. 考虑添加使用频率限制
3. 监控异常激活行为
4. 保持API密钥的安全性