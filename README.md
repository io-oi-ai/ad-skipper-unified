# Universal Ad & Sponsor Skipper

这是一个强大的浏览器扩展，可以自动跳过 YouTube 和 Bilibili 平台上的广告和视频内的赞助商内容。

## 主要功能

- **自动跳过广告**: 自动检测并跳过 YouTube 和 Bilibili 的视频广告
- **跳过赞助商内容**: 
  - 使用 SponsorBlock API 识别并跳过视频中的赞助商片段
  - 可跳过的内容包括：赞助商广告、自我推广、互动提醒、片头、片尾等
- **AI 智能识别** (可选): 
  - 可连接本地后端服务
  - 使用 AI 分析视频内容
  - 自动识别赞助商片段
- **多平台支持**: 
  - YouTube: 支持跳过广告和赞助商内容
  - Bilibili: 支持跳过广告和赞助商内容
- **简单控制**: 通过扩展图标快速开启/关闭功能

## 安装说明

1. 下载或克隆此仓库到本地
2. 打开 Chrome 浏览器，访问 `chrome://extensions`
3. 在右上角启用"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择 `ad-skipper-unified` 目录

## 使用方法

1. **基本使用**:
   - 安装后扩展会自动运行
   - 访问 YouTube 或 Bilibili 视频时自动工作
   - 检测到广告或赞助商内容时会自动跳过

2. **控制开关**:
   - 点击浏览器工具栏中的扩展图标
   - 使用开关按钮启用/禁用功能
   - 状态文字显示当前是否激活

3. **跳过提示**:
   - 当跳过内容时，右上角会显示提示信息
   - 提示包含跳过内容的来源（SponsorBlock/AI）

## 本地后端服务 (可选)

如果要使用 AI 智能识别功能，需要运行本地后端服务：

1. **服务要求**:
   - 后端服务需要在本地 3000 端口运行
   - 需要支持视频分析和字幕/弹幕处理
   - 具体后端实现不包含在本仓库中

2. **API 端点**:
   - GET `/segments/{videoId}`: 获取已分析的片段
   - POST `/analyze`: 提交新的视频分析请求

## 技术说明

- 使用 Chrome Extension Manifest V3 开发
- 支持 YouTube 字幕和 Bilibili 弹幕分析
- 集成 SponsorBlock API 识别赞助商内容
- 可选的本地 AI 分析后端支持

## 注意事项

- 扩展程序需要访问视频页面的权限
- 部分功能依赖 SponsorBlock API 服务
- AI 分析功能需要额外的后端服务支持
- 某些情况下可能无法正确识别所有广告内容

## 贡献指南

欢迎提交 Issue 和 Pull Request 来帮助改进这个项目！

## 许可证

[许可证信息待补充]

## 检查扩展运行状态

有以下几种方法可以检查扩展是否正在运行：

1. **通过扩展管理页面检查**:
   - 在 Chrome 浏览器地址栏输入: `chrome://extensions`
   - 找到 "Universal Ad & Sponsor Skipper" 扩展
   - 查看开关是否处于打开状态（蓝色）
   - 检查扩展卡片右下角是否显示"正在运行"

2. **通过开发者工具检查**:
   - 访问 YouTube 或 Bilibili 视频页面
   - 右键点击页面，选择"检查"或按 F12 打开开发者工具
   - 切换到"控制台"(Console)标签
   - 查看是否有 `[Ad Skipper Debug]` 开头的日志信息
   - 日志会显示扩展的初始化状态和运行时状态

3. **通过扩展图标检查**:
   - 点击浏览器工具栏中的扩展图标
   - 查看弹出窗口中的开关状态
   - 状态文字会显示 "active" 或 "inactive"

4. **实际功能测试**:
   - 访问任意 YouTube 或 Bilibili 视频
   - 如果视频中出现广告或赞助商内容
   - 扩展会自动跳过并在右上角显示提示信息
   - 提示信息会显示跳过内容的来源

如果扩展没有正常运行，可以尝试以下解决方法：
- 在扩展管理页面重新启用扩展
- 刷新当前视频页面
- 检查浏览器控制台是否有错误信息
- 重新安装扩展